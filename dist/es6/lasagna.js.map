{"version":3,"sources":["webpack:///webpack/bootstrap 18154dc0d96ab6821eeb","webpack:///./src/elements/LasagnaActivityLogElement.ts","webpack:///./src/app.ts"],"names":[],"mappings":"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","file":"lasagna.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 18154dc0d96ab6821eeb","interface ActivityData {\n  task: string | null;\n  started: Date | string | null;\n  stopped: Date | string | null;\n}\n\nexport default class LasagnaActivityLogElement extends HTMLElement {\n  activities: ActivityData[];\n\n  constructor() {\n    super();\n    this.activities = [];\n  }\n\n  connectedCallback() {\n    const shadowRoot = this.attachShadow({mode: 'open'});\n    shadowRoot.innerHTML = `\n      <style>\n        :host * {\n          box-sizing: border-box;\n        }\n        :host .c-activity-log {\n          display: flex;\n          flex-direction: column;\n          align-items: stretch;\n        }\n        :host .c-activity-log__heading,\n        :host .c-activity-log__activity {\n          display: flex;\n          flex-direction: row;\n          justify-content: space-between;\n        }\n        :host .c-activity-log__heading {\n          font-weight: 600;\n        }\n        :host .c-activity-log__detail-task {\n          display: block;\n          width: calc(100% - 22.5rem);\n          padding: 0.05rem 0.25rem;\n          text-align: left;\n        }\n        :host .c-activity-log__detail-started,\n        :host .c-activity-log__detail-stopped,\n        :host .c-activity-log__detail-duration {\n          display: block;\n          width: 7.5rem;\n          padding: 0.05rem 0.25rem;\n          text-align: center;\n        }\n        :host .c-activity-log__activity input {\n          border: none;\n          border-bottom: 1px solid lightgray;\n          width: 100%;\n          height: 100%;\n          font-size: 1rem;\n        }\n        :host .c-activity-log__detail-started input,\n        :host .c-activity-log__detail-stopped input,\n        :host .c-activity-log__detail-duration input {\n          text-align: center;\n        }\n      </style>\n      <section class=\"c-activity-log\">\n        <header class=\"c-activity-log__heading\">\n          <span class=\"c-activity-log__detail-task\">Task</span>\n          <span class=\"c-activity-log__detail-started\">Started At</span>\n          <span class=\"c-activity-log__detail-stopped\">Stopped At</span>\n          <span class=\"c-activity-log__detail-duration\">Duration</span>\n        </header>\n      </section>\n    `;\n    const newActivity = this.createActivityElement(0);\n    shadowRoot.querySelector('.c-activity-log').appendChild(newActivity);\n  }\n\n  createActivityElement(index: number): HTMLElement {\n    const activity = index < this.activities.length ? this.activities[index] : {\n      task: null,\n      started: null,\n      stopped: null\n    };\n    const activityElement = document.createElement('article');\n    activityElement.innerHTML = `\n      <form class=\"c-activity-log__activity\">\n        <label class=\"c-activity-log__detail-task\">\n          <input type=\"text\" name=\"task\" placeholder=\"Task name\">\n        </label>\n        <label class=\"c-activity-log__detail-started\">\n          <input type=\"time\" name=\"started\">\n        </label>\n        <label class=\"c-activity-log__detail-stopped\">\n          <input type=\"time\" name=\"stopped\">\n        </label>\n        <label class=\"c-activity-log__detail-duration\">\n          <input type=\"text\" name=\"duration\" disabled>\n        </label>\n      </form>\n    `;\n    const activityForm = <HTMLFormElement>activityElement.querySelector('.c-activity-log__activity');\n    \n    // Fill out form values\n    if (activity.task) activityForm['task'].value = activity.task;\n    if (activity.started) activityForm['started'].value = activity.started;\n    if (activity.stopped) activityForm['stopped'].value = activity.stopped;\n    activityForm['duration'].value = LasagnaActivityLogElement.formatDuration(LasagnaActivityLogElement.computeDuration(activity.started, activity.stopped));\n\n    // Attach event handlers\n    activityForm['task'].addEventListener('change', () => {this.updateActivity(index, 'task', activityForm['task'].value);});\n    activityForm['started'].addEventListener('change', () => {this.updateActivity(index, 'started', activityForm['started'].value);});\n    activityForm['stopped'].addEventListener('change', () => {this.updateActivity(index, 'stopped', activityForm['stopped'].value);;});\n\n    return activityElement;\n  }\n\n  updateActivity(index: number, detail: string, value: string) {\n    if (detail !== 'task' && detail !== 'started' && detail !== 'stopped') return;\n    if (index > this.activities.length) return;\n    if (index === this.activities.length) this.activities[index] = {\n      task: null,\n      started: null,\n      stopped: null\n    };\n    this.activities[index][detail] = value;\n    if (detail === 'started' || detail === 'stopped') this.updateDuration(index);\n  }\n\n  updateDuration(index: number) {\n    if (index >= this.activities.length) return;\n    const activity = this.activities[index];\n    const activityForm = <HTMLFormElement>this.querySelectorAll('.c-activity-log__activities')[index];\n    activityForm['duration'].value = LasagnaActivityLogElement.formatDuration(LasagnaActivityLogElement.computeDuration(activity.started, activity.stopped));\n  }\n\n  static computeDuration(started: Date | string | null, stopped: Date | string | null): number {\n    const _started = started ? (started instanceof Date ? started : new Date(started))\n                             : new Date();\n    const _stopped = stopped ? (stopped instanceof Date ? stopped : new Date(stopped))\n                             : new Date();\n    const duration = _stopped.getTime() - _started.getTime();\n    return duration > 0 ? duration : 0;\n  }\n\n  static formatDuration(duration: number): string {\n    const hours = Math.floor(duration / 3600);\n    const minutes = Math.floor(duration % 3600 / 60);\n    const seconds = Math.floor(duration % 60);\n    \n    function pad(source: string, places: number): string {\n      if (source.length >= places) return source;\n      return `0${source}`;\n    }\n\n    return `${hours}:${pad(minutes.toString(), 2)}:${pad(seconds.toString(), 2)}`;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/elements/LasagnaActivityLogElement.ts","import LasagnaActivityLogElement from './elements/LasagnaActivityLogElement';\n\n(<any>window).customElements.define('lasagna-activity-log', LasagnaActivityLogElement);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app.ts"],"sourceRoot":""}